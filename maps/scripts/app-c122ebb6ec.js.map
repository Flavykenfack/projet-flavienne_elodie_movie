{"version":3,"sources":["scripts/app.js"],"names":["infoFilmController","$stateParams","$http","$ctrl","this","get","infoFilmId","then","result","unFilm","data","routesConfig","$stateProvider","$urlRouterProvider","$locationProvider","html5Mode","hashPrefix","otherwise","state","url","template","$inject","angular","module","service","Enregistrer","enregistrer","toBeSaved","console","log","PanierSerializable","JSON","stringify","localStorage","setItem","charger","lst","getItem","parse","component","templateUrl","controller","text","bindings","m","listeFilms","delItem","item","splice","films","results","addItem","el","push","run","$templateCache","put","config"],"mappings":"AA+CA,QAASA,oBAAmBC,EAAcC,GACxC,GAAIC,GAAQC,IACZF,GAAMG,IAAI,sCAAwCJ,EAAaK,WAAa,gBACzEC,KAAK,SAAUC,GACdL,EAAMM,OAASD,EAAOE,OAgD5B,QAASC,cAAaC,EAAgBC,EAAoBC,GACxDA,EAAkBC,WAAU,GAAOC,WAAW,KAC9CH,EAAmBI,UAAU,KAE7BL,EACGM,MAAM,OACLC,IAAK,IACLC,SAAU,gBAEXF,MAAM,aACLC,IAAK,QACLC,SAAU,oBAGXF,MAAM,gBACLC,IAAK,oBACLC,SAAU,4BAEXF,MAAM,cACLC,IAAK,SACLC,SAAU,sBAtHhBT,aAAaU,SAAW,iBAAkB,qBAAsB,qBAChErB,mBAAmBqB,SAAW,eAAgB,SAF9CC,QACGC,OAAO,OAAQ,cAElBD,QACGC,OAAO,OACPC,QAAQ,cAAe,WACtB,GAAIC,GAAcrB,IAClBqB,GAAYC,YAAc,SAAUC,GAClCC,QAAQC,IAAI,YAAaF,EACzB,IAAIG,GAAqBC,KAAKC,UAAUL,EACxCM,cAAaC,QAAQ,qBAAsBJ,IAE7CL,EAAYU,QAAU,SAAUC,GAC9B,MAAkC,QAA9BH,aAAaI,QAAQD,MAGlBL,KAAKO,MAAML,aAAaI,QAAQD,OAI7Cd,QACGC,OAAO,OACPgB,UAAU,UACTC,YAAa,kBACbC,WAAY,WACVrC,KAAKsC,KAAO,UAEdC,UACEC,EAAG,OAITtB,QACGC,OAAO,OACPgB,UAAU,UACTC,YAAa,kBACbC,YAAA,cAAY,SAAUhB,GACpB,GAAItB,GAAQC,IACZD,GAAM0C,WAAapB,EAAYU,QAAQ,sBACvChC,EAAM2C,QAAU,SAAUC,GACxB5C,EAAM0C,WAAWG,OAAOD,EAAM,GAC9BtB,EAAYC,YAAYvB,EAAM0C,iBActCvB,QACGC,OAAO,OACPgB,UAAU,YACTC,YAAa,oBACbC,WAAYzC,qBAIhBsB,QACGC,OAAO,OACPgB,UAAU,OACTC,YAAa,kBAGjBlB,QACGC,OAAO,OACPgB,UAAU,SACTC,YAAa,iBACbC,YAAA,cAAA,QAAY,SAAUhB,EAAavB,GACjC,GAAIC,GAAQC,IACZF,GAAMG,IAAI,2DACPE,KAAK,SAAUC,GACdL,EAAM8C,MAAQzC,EAAOE,KAAKwC,UAG9B/C,EAAM0C,WAAapB,EAAYU,QAAQ,sBAEvChC,EAAMgD,QAAU,SAAUC,GACxBjD,EAAM0C,WAAWQ,KAAKD,GACtB3B,EAAYC,YAAYvB,EAAM0C,iBAKtCvB,QAAQC,OAAO,OAAO+B,KAAK,iBAAkB,SAASC,GAAiBA,EAAeC,IAAI,iBAAiB,ieAC3GD,EAAeC,IAAI,gBAAgB,iyBACnCD,EAAeC,IAAI,oBAAoB,o1BACvCD,EAAeC,IAAI,kBAAkB,woBACrCD,EAAeC,IAAI,kBAAkB,sJACrClC,QACGC,OAAO,OACPkC,OAAO9C","file":"scripts/app-c122ebb6ec.js","sourcesContent":["angular\n  .module('app', ['ui.router']);\n\nangular\n  .module('app')\n  .service('Enregistrer', function () {\n    var Enregistrer = this;\n    Enregistrer.enregistrer = function (toBeSaved) {\n      console.log('Todo save', toBeSaved);\n      var PanierSerializable = JSON.stringify(toBeSaved);\n      localStorage.setItem('PanierSerializable', PanierSerializable);\n    };\n    Enregistrer.charger = function (lst) {\n      if (localStorage.getItem(lst) === null) {\n        return [];\n      }\n      return JSON.parse(localStorage.getItem(lst));\n    };\n  });\n\nangular\n  .module('app')\n  .component('poster', {\n    templateUrl: 'app/poster.html',\n    controller: function posterController() {\n      this.text = 'POSTER';\n    },\n    bindings: {\n      m: '<'\n    }\n  });\n\nangular\n  .module('app')\n  .component('panier', {\n    templateUrl: 'app/Panier.html',\n    controller: function (Enregistrer) {\n      var $ctrl = this;\n      $ctrl.listeFilms = Enregistrer.charger('PanierSerializable');\n      $ctrl.delItem = function (item) {\n        $ctrl.listeFilms.splice(item, 1);\n        Enregistrer.enregistrer($ctrl.listeFilms);\n      };\n    }\n  });\n\n\nfunction infoFilmController($stateParams, $http) {\n  var $ctrl = this;\n  $http.get('http://amc.ig.he-arc.ch:3003/movie/' + $stateParams.infoFilmId + '?language=fr')\n    .then(function (result) {\n      $ctrl.unFilm = result.data;\n    });\n}\n\nangular\n  .module('app')\n  .component('infoFilm', {\n    templateUrl: 'app/infoFilm.html',\n    controller: infoFilmController\n  });\n\n\nangular\n  .module('app')\n  .component('app', {\n    templateUrl: 'app/home.html'\n  });\n\nangular\n  .module('app')\n  .component('films', {\n    templateUrl: 'app/films.html',\n    controller: function (Enregistrer, $http) {\n      var $ctrl = this;\n      $http.get('http://amc.ig.he-arc.ch:3003/movie/upcoming?language=fr')\n        .then(function (result) {\n          $ctrl.films = result.data.results;\n        });\n\n      $ctrl.listeFilms = Enregistrer.charger('PanierSerializable');\n\n      $ctrl.addItem = function (el) {\n        $ctrl.listeFilms.push(el);\n        Enregistrer.enregistrer($ctrl.listeFilms);\n      };\n    }\n  });\n\nangular.module(\"app\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/films.html\",\"<h2>Liste des films</h2>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-xs-6 col-sm-4 col-md-4\\\" ng-repeat=\\\"film in $ctrl.films\\\">\\n            <div class=\\\"thumbnail\\\">\\n                <div class=\\\"caption\\\">\\n                    <h4>{{ film.title }}</h4>\\n                    <poster m=\\\"film\\\"></poster>\\n                    <button ng-click=\\\"$ctrl.addItem(film)\\\" class=\\\"glyphicon glyphicon-film\\\"></button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\");\n$templateCache.put(\"app/home.html\",\"<div class=\\\"container\\\">\\n    <div class=\\\"col-xs-12 col-sm-12 col-md-12\\\">\\n        <nav class=\\\"navbar navbar-default\\\">\\n            <div class=\\\"container-fluid\\\">\\n                <div class=\\\"navbar-header\\\">\\n                    <a class=\\\"navbar-brand\\\" href=\\\"\\\">Movie Application</a>\\n                </div>\\n                <ul class=\\\"nav navbar-nav\\\">\\n                    <li><a href=\\\"hello\\\">Home</a></li>\\n                    <li><a ui-sref=\\\"app.films\\\">Films</a></li>\\n                    <!--<li><a ui-sref=\\\"app.poster\\\">Prochainement</a></li>!-->\\n                    <li><a ui-sref=\\\"app.panier\\\">Panier</a></li>\\n                </ul>\\n            </div>\\n        </nav>\\n    </div>\\n\\n    <ui-view></ui-view>\\n\\n    <div class=\\\"footer\\\">\\n        <p>♥MovieApplication 2016</p>\\n    </div>\\n</div>\");\n$templateCache.put(\"app/infoFilm.html\",\"<div class=\\\"row\\\">\\r\\n  <h2>{{$ctrl.unFilm.title}}</h2>\\r\\n  <div class=\\\"col-xs-12 col-sm-12 col-md-12\\\">\\r\\n      <div class=\\\"thumbnail\\\">\\r\\n        <div class=\\\"caption\\\">\\r\\n          <poster m=\\\"$ctrl.unFilm\\\"></poster>       \\r\\n          <p><strong>Description:</strong> {{$ctrl.unFilm.overview}}</p>\\r\\n          <p><strong>Date de sortie:</strong> {{$ctrl.unFilm.release_date}}</p>\\r\\n          <p><strong>Titre original:</strong> {{$ctrl.unFilm.original_title}}</p>\\r\\n          <p><strong>Langue originale:</strong> {{$ctrl.unFilm.original_language}}</p>\\r\\n          <p><strong>Popularité:</strong> {{$ctrl.unFilm.popularity}}</p>\\r\\n          <p><strong>Vote:</strong> {{$ctrl.unFilm.vote_count}}</p>\\r\\n          <p><strong>Moyen du vote:</strong> {{$ctrl.unFilm.vote_average}}</p>\\r\\n        </div>\\r\\n      </div>\\r\\n  </div>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/panier.html\",\"<div class=\\\"row\\\">\\r\\n  <h2>Mes films</h2>\\r\\n  <div class=\\\"col-xs-6 col-sm-6 col-md-6\\\" ng-repeat=\\\"film in $ctrl.listeFilms track by $index\\\">\\r\\n      <div class=\\\"thumbnail\\\">\\r\\n        <div class=\\\"caption\\\">\\r\\n          <h4><a ui-sref=\\\"app.infoFilm({infoFilmId: film.id})\\\">{{film.title }}</a></h4>\\r\\n          <poster m=\\\"film\\\"></poster>       \\r\\n          <p><strong>Description:</strong> {{film.overview}}</p>\\r\\n          <p><strong>Date de sortie :</strong> {{film.release_date}}</p>\\r\\n          <button ng-click=\\\"$ctrl.delItem(film)\\\" class=\\\"glyphicon glyphicon-trash\\\"></button>\\r\\n        </div>\\r\\n      </div>\\r\\n  </div>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/poster.html\",\"<div class=\\\"poster\\\"> \\r\\n  <!--<a ui-shref=\\\"\\\"> </a>!-->\\r\\n  <img ng-src=\\\"http://image.tmdb.org/t/p/w185{{$ctrl.m.poster_path}}\\\">\\r\\n</div>\\r\\n\");}]);\nangular\n  .module('app')\n  .config(routesConfig);\n\n/** @ngInject */\nfunction routesConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n  $locationProvider.html5Mode(false).hashPrefix('!');\n  $urlRouterProvider.otherwise('/');\n\n  $stateProvider\n    .state('app', {\n      url: '/',\n      template: '<app></app>'\n    })\n    .state('app.films', {\n      url: 'films',\n      template: '<films></films>'\n    })\n\n    .state('app.infoFilm', {\n      url: 'films/:infoFilmId',\n      template: '<info-film></info-film>'\n    })\n    .state('app.panier', {\n      url: 'panier',\n      template: '<panier></panier>'\n    });\n}\n"],"sourceRoot":"/source/"}